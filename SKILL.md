---
name: xiaohongshu-publisher
description: å°çº¢ä¹¦è‡ªåŠ¨å‘å¸ƒåŠ©æ‰‹ï¼Œæ”¯æŒæ‰«ç ç™»å½•ã€AIå†…å®¹ç”Ÿæˆã€å›¾æ–‡è‡ªåŠ¨å‘å¸ƒã€‚æ”¯æŒå…¨è‡ªåŠ¨æ¨¡å¼å’Œäº¤äº’æ¨¡å¼ï¼Œç”¨æˆ·å¯è§æ‰€æœ‰æµè§ˆå™¨æ“ä½œã€‚
license: MIT
metadata:
  tags: [xiaohongshu, social-media, automation, publisher, ai-content, playwright]
  platforms: [macos, windows, linux]
  language: python
  framework: playwright
---

# å°çº¢ä¹¦è‡ªåŠ¨å‘å¸ƒåŠ©æ‰‹

ğŸ¤– **æ™ºèƒ½è‡ªåŠ¨åŒ–** | ğŸ‘€ **å…¨ç¨‹å¯è§** | ğŸ” **å®‰å…¨æ‰«ç ç™»å½•**

å…¨è‡ªåŠ¨å‘å¸ƒå°çº¢ä¹¦å›¾æ–‡ç¬”è®°ï¼Œä»ç™»å½•åˆ°å‘å¸ƒä¸€é”®å®Œæˆã€‚æµè§ˆå™¨æ“ä½œå…¨ç¨‹å¯è§ï¼ŒAIæ™ºèƒ½ç”Ÿæˆçˆ†æ¬¾æ ‡é¢˜å’Œæ–‡æ¡ˆã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **è‡ªåŠ¨æ‰«ç ç™»å½•** - æ£€æµ‹ç™»å½•çŠ¶æ€ï¼Œè‡ªåŠ¨åˆ‡æ¢æ‰«ç æ¨¡å¼ï¼ŒäºŒç»´ç ç‹¬ç«‹çª—å£æ˜¾ç¤º
- ğŸ¤– **AIæ™ºèƒ½ç”Ÿæˆ** - æ ¹æ®å›¾ç‰‡å†…å®¹è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜ã€æ­£æ–‡ã€æ ‡ç­¾
- ğŸ‘€ **å…¨ç¨‹å¯è§** - æµè§ˆå™¨çª—å£å…¨ç¨‹å¯è§ï¼Œæ‰€æœ‰æ“ä½œæ¸…æ™°é€æ˜
- âš¡ **åŒæ¨¡å¼æ”¯æŒ** - å…¨è‡ªåŠ¨æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰+ äº¤äº’æ¨¡å¼å¯é€‰
- ğŸ”„ **çµæ´»é…ç½®** - æ”¯æŒè‡ªå®šä¹‰å†…å®¹æˆ–å…¨æƒAIå¤„ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd /Users/mile/work/.opencode/skills/xiaohongshu-publisher
pip install playwright pyyaml pillow
playwright install chromium
```

### 2. å…¨è‡ªåŠ¨æ¨¡å¼ï¼ˆä¸€å¥è¯å‘å¸ƒï¼‰

```bash
python scripts/publisher.py --auto \
    --image "/path/to/your/image.jpg"
```

**ç¤ºä¾‹ï¼š**

```bash
python scripts/publisher.py --auto \
    --image "/Users/mile/Downloads/your-image.png"
```

### 3. äº¤äº’æ¨¡å¼ï¼ˆé€æ­¥æŒ‡å¯¼ï¼‰

```bash
python scripts/publisher.py --interactive
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå…¨è‡ªåŠ¨å‘å¸ƒ

```bash
$ python scripts/publisher.py --auto \
    --image "/Users/mile/Downloads/åŠ±å¿—æµ·æŠ¥.png"

ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€

ğŸš€ å¯åŠ¨å°çº¢ä¹¦å…¨è‡ªåŠ¨å‘å¸ƒæ¨¡å¼

ğŸ” æ£€æŸ¥ç™»å½•çŠ¶æ€...
âš ï¸  æœªç™»å½•çŠ¶æ€

==================================================
ğŸ” å¯åŠ¨æ‰«ç ç™»å½•æµç¨‹
==================================================
ğŸ“± æ­£åœ¨æ‰“å¼€å‘ç™»å½•é¡µé¢...
ğŸ‘† ç‚¹å‡»æ‰«ç ç™»å½•é€‰é¡¹: .login-tab-item[data-type="qrcode"]
âœ… å·²åˆ‡æ¢åˆ°æ‰«ç ç™»å½•æ¨¡å¼

ğŸ“¸ äºŒç»´ç å·²ä¿å­˜: /tmp/xhs_qr_code.png

â³ è¯·ä½¿ç”¨å°çº¢ä¹¦APPæ‰«ç ç™»å½•...
â±ï¸  äºŒç»´ç æœ‰æ•ˆæœŸä¸º2åˆ†é’Ÿï¼Œè¯·å°½å¿«æ‰«ç 
--------------------------------------------------

âœ… ç™»å½•æˆåŠŸï¼æ¬¢è¿å›æ¥~

ğŸ–¼ï¸  å‡†å¤‡å‘å¸ƒå›¾ç‰‡: åŠ±å¿—æµ·æŠ¥.png
ğŸ¤– æ­£åœ¨AIç”Ÿæˆå†…å®¹...
âœ… å›¾ç‰‡åˆ†æç»“æœ: ç±»å‹=åŠ±å¿—, æƒ…ç»ª=æ²»æ„ˆ, ä¸»é¢˜=è‡ªæˆ‘æˆé•¿
âœ… å†…å®¹ç”Ÿæˆå®Œæˆ:
   æ ‡é¢˜: è¢«è¿™æ®µè¯æ²»æ„ˆäº†âœ¨ï½œè‡ªæˆ‘æˆé•¿
   æ­£æ–‡é•¿åº¦: 186 å­—
   æ ‡ç­¾: åŠ±å¿—, æ­£èƒ½é‡, äººç”Ÿæ„Ÿæ‚Ÿ, è‡ªæˆ‘æˆé•¿, æ²»æ„ˆ, æ–‡æ¡ˆ, åˆ†äº«

==================================================
ğŸ“ æ ‡é¢˜: è¢«è¿™æ®µè¯æ²»æ„ˆäº†âœ¨ï½œè‡ªæˆ‘æˆé•¿
==================================================
ğŸ·ï¸  æ ‡ç­¾: #åŠ±å¿— #æ­£èƒ½é‡ #äººç”Ÿæ„Ÿæ‚Ÿ #è‡ªæˆ‘æˆé•¿ #æ²»æ„ˆ #æ–‡æ¡ˆ #åˆ†äº«

==================================================
ğŸ“„ æ­£æ–‡:
==================================================
ä»Šå¤©çœ‹åˆ°è¿™å¥è¯ï¼ŒçœŸçš„è¢«æˆ³ä¸­äº†ğŸ’«

å…è®¸æˆ‘åˆ†äº«è¿™æ®µå¾ˆæœ‰åŠ›é‡çš„è¯ğŸ™

è‡ªæˆ‘æˆé•¿è¿™ä»¶äº‹ï¼ŒçœŸçš„éœ€è¦æ…¢æ…¢æ¥ã€‚

ä¸å¿…æ€¥äºæ±‚æˆï¼Œä¹Ÿä¸å¿…ä¸ä»–äººæ¯”è¾ƒã€‚
æ¯ä¸ªäººçš„èŠ±æœŸä¸åŒï¼Œä¸å¿…ç„¦è™‘æœ‰äººæå‰ç››å¼€ã€‚

è®°ä½ï¼š
- ä½ çš„åŠªåŠ›ï¼Œæ—¶é—´çœ‹å¾—è§
- è‡ªå¾‹ç»™ä½ è‡ªç”±
- æ…¢æ…¢æ¥ï¼Œæ¯”è¾ƒå¿«

æ„¿ä½ åœ¨è‡ªæˆ‘æˆé•¿çš„è·¯ä¸Šï¼Œæ°¸è¿œä¿æŒçƒ­çˆ±å’Œå‹‡æ°”ã€‚ğŸ’ª

==================================================
ğŸ“Š åˆ†æ: ç±»å‹=åŠ±å¿—, æƒ…ç»ª=æ²»æ„ˆ, ä¸»é¢˜=è‡ªæˆ‘æˆé•¿
==================================================

ä»¥ä¸Šå†…å®¹æ˜¯å¦æ»¡æ„ï¼Ÿ(y/n/q=é€€å‡º): y

ğŸŒ æ­£åœ¨æ‰“å¼€å‘å¸ƒé¡µé¢...
ğŸ“¤ æ­£åœ¨ä¸Šä¼ å›¾ç‰‡...
âœ… å›¾ç‰‡ä¸Šä¼ å®Œæˆ
ğŸ“ æ­£åœ¨å¡«å†™æ ‡é¢˜...
ğŸ“ æ­£åœ¨å¡«å†™æ­£æ–‡...
ğŸ·ï¸  æ­£åœ¨æ·»åŠ æ ‡ç­¾...
```

### ç¤ºä¾‹2ï¼šè‡ªå®šä¹‰å†…å®¹å’Œæ ‡ç­¾

```bash
python scripts/publisher.py --auto \
    --image "/path/to/image.jpg" \
    --title "æˆ‘çš„è‡ªå®šä¹‰æ ‡é¢˜" \
    --content "è¿™æ˜¯è‡ªå®šä¹‰æ­£æ–‡å†…å®¹..." \
    --tags "æ—…è¡Œ,ç¾é£Ÿ,æ¢åº—"
```

### ç¤ºä¾‹3ï¼šä¸é¢„è§ˆç›´æ¥å‘å¸ƒ

```bash
python scripts/publisher.py --auto \
    --image "/path/to/image.jpg" \
    --no-preview \
    --no-confirm
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
xiaohongshu-publisher/
â”œâ”€â”€ SKILL.md                          # æŠ€èƒ½æ–‡æ¡£
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ publisher.py                  # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ browser_controller.py    # Playwrightæµè§ˆå™¨æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ login_handler.py         # æ‰«ç ç™»å½•å¤„ç†
â”‚   â”‚   â””â”€â”€ content_generator.py     # AIå†…å®¹ç”Ÿæˆ
â”‚   â””â”€â”€ utils/
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ xiaohongshu.yaml             # å¹³å°é…ç½®
â”‚
â””â”€â”€ assets/                           # èµ„æºæ–‡ä»¶
```

## âš™ï¸ é…ç½®è¯´æ˜

ç¼–è¾‘ `config/xiaohongshu.yaml` è‡ªå®šä¹‰ï¼š

```yaml
# å¹³å°é…ç½®
platform:
  creator_url: https://creator.xiaohongshu.com
  login_url: https://creator.xiaohongshu.com/login
  publish_url: https://creator.xiaohongshu.com/publish

# æµè§ˆå™¨è®¾ç½®
settings:
  headless: false          # å¼ºåˆ¶éæ— å¤´æ¨¡å¼ï¼Œç”¨æˆ·å¯è§
  window_size: [1440, 900]

# è¶…æ—¶è®¾ç½®
timeouts:
  login_wait: 120000      # æ‰«ç ç­‰å¾…2åˆ†é’Ÿ
  upload_wait: 30000      # ä¸Šä¼ ç­‰å¾…30ç§’
```

## ğŸ¯ é«˜çº§ç”¨æ³•

### ä½œä¸ºPythonæ¨¡å—ä½¿ç”¨

```python
import asyncio
from scripts import XiaohongshuPublisher

async def main():
    publisher = XiaohongshuPublisher()

    # åˆå§‹åŒ–
    await publisher.initialize()

    # ç¡®ä¿ç™»å½•
    await publisher.ensure_login()

    # å‘å¸ƒç¬”è®°
    result = await publisher.publish_image_note(
        image_path="/path/to/image.jpg",
        auto_generate=True,
        preview=True
    )

    print(f"å‘å¸ƒç»“æœ: {result}")

asyncio.run(main())
```

### æ‰¹é‡å‘å¸ƒ

```python
import asyncio
from scripts import XiaohongshuPublisher

async def batch_publish(image_paths):
    publisher = XiaohongshuPublisher()
    await publisher.initialize()
    await publisher.ensure_login()

    results = []
    for path in image_paths:
        result = await publisher.publish_image_note(path)
        results.append(result)

    return results
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: Playwright
- **é…ç½®ç®¡ç†**: YAML
- **å›¾ç‰‡å¤„ç†**: Pillow
- **å†…å®¹ç”Ÿæˆ**: æ¨¡æ¿å¼•æ“ + æ™ºèƒ½éšæœº
- **GUI**: Tkinterï¼ˆäºŒç»´ç æ˜¾ç¤ºçª—å£ï¼‰

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡ä½¿ç”¨éœ€è¦æ‰«ç ç™»å½•** - ç™»å½•çŠ¶æ€ä¼šä¿æŒ
2. **æµè§ˆå™¨çª—å£ä¼šä¿æŒæ‰“å¼€** - å‘å¸ƒå®ŒæˆåæŒ‰Enterå…³é—­
3. **éµå®ˆå°çº¢ä¹¦ç¤¾åŒºè§„èŒƒ** - AIç”Ÿæˆçš„å†…å®¹å¯èƒ½éœ€è¦äººå·¥å®¡æ ¸
4. **ç½‘ç»œç¨³å®š** - ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼Œé¿å…è¶…æ—¶

## ğŸ”„ åç»­æ‰©å±•

- [ ] è§†é¢‘ç¬”è®°å‘å¸ƒæ”¯æŒ
- [ ] å¤šå›¾æ‰¹é‡å‘å¸ƒ
- [ ] å®šæ—¶å‘å¸ƒåŠŸèƒ½
- [ ] å‘å¸ƒæ•°æ®ç»Ÿè®¡
- [ ] å…¶ä»–å¹³å°é€‚é…ï¼ˆæŠ–éŸ³ã€Bç«™ç­‰ï¼‰

## â“ å¸¸è§é—®é¢˜

**Q: æ‰¾ä¸åˆ°äºŒç»´ç å…ƒç´ æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥å°çº¢ä¹¦é¡µé¢ç»“æ„æ˜¯å¦å˜åŒ–ï¼Œå¯æ›´æ–°é…ç½®æ–‡ä»¶ä¸­çš„selectorsã€‚

**Q: å‘å¸ƒå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼Œæµè§ˆå™¨ä¼šä¿æŒæ‰“å¼€çŠ¶æ€ä»¥ä¾¿æ‰‹åŠ¨æ£€æŸ¥å’Œæ“ä½œã€‚

**Q: å¦‚ä½•ä¿®æ”¹AIç”Ÿæˆçš„æ–‡æ¡ˆé£æ ¼ï¼Ÿ**
A: ç¼–è¾‘ `scripts/core/content_generator.py` ä¸­çš„æ¨¡æ¿åº“ã€‚

**Q: å¯ä»¥ä½¿ç”¨è‡ªå·±çš„AIç”Ÿæˆå†…å®¹å—ï¼Ÿ**
A: å¯ä»¥ï¼Œé€šè¿‡ `--title`, `--content`, `--tags` å‚æ•°è‡ªå®šä¹‰ã€‚
